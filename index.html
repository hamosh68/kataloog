<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>كتالوج IBC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.2.0/css/glightbox.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
 
<!-- الهيدر -->
<header class="app-header">
    <div class="header-content">
        <div>
            <div class="logo">كتالوج <span>IBC</span></div>
            <div class="subtitle">للمنتجات العالمية</div>
        </div>
        <div style="display: flex; align-items: center; gap: 10px;">
            <div class="cart-btn" onclick="showCartPage()">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-badge" id="cartBadge"></span>
            </div>
            <div class="badge">مندوبين</div><!-- زر إرسال رسالة --><!-- زر إرسال رسالة عامة (للمدير) -->
<button onclick="sendPublicMessage()" 
        style="
            background: linear-gradient(135deg, #2196F3, #1a237e);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        "
        title="إرسال رسالة عامة">
    <i class="fas fa-bullhorn"></i>
</button>

<!-- زر إلغاء الرسالة للجميع (للمدير) -->
<button onclick="deletePublicMessage()" 
        style="
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        "
        title="إلغاء الرسالة للجميع">
    <i class="fas fa-ban"></i>
</button>
<button onclick="sendPrivateMessage()" 
        style="background: linear-gradient(135deg, #2196F3, #21CBF3); color: white; border: none; border-radius: 50%; width: 25px; height: 25px; cursor: pointer;">
    <i class="fas fa-paper-plane"></i>
</button>


<!-- زر عرض الرسائل -->
<button onclick="showPrivateInbox()" 
        style="background: linear-gradient(135deg, #FF9800, #FF5722); color: white; border: none; border-radius: 50%; width: 25px; height: 25px; cursor: pointer; position: relative;">
    <i class="fas fa-envelope"></i>
    <span id="messageBadge" style="position: absolute; top: -5px; right: -5px; background: #f44336; color: white; border-radius: 50%; width: 25px; height: 25px; font-size: 0.7rem; display: none; align-items: center; justify-content: center; border: 2px solid white;"></span>
</button>
        </div>
    </div>
</header>
   <div class="search-container">
    <div class="search-box">
        <i class="fas fa-search search-icon"></i>
        <input type="text" id="searchInput" placeholder="ابحث بكود أو اسم المنتج...">
        
        <button class="clear-btn" id="clearBtn">×</button>
        
        <button class="scan-btn" id="scanBtn" onclick="toggleScanner()" title="فحص باركود">
            <i class="fas fa-camera"></i>
        </button>
    </div>
    
    <div id="reader-container" style="display:none; margin-top: 10px; border-radius: 10px; overflow: hidden; border: 2px solid var(--primary);">
        <div id="reader"></div>
        <button onclick="stopScanner()" style="width:100%; padding:10px; background:#ff4444; color:white; border:none;">إغلاق الكاميرا</button>
    </div>
</div>

<script src="https://unpkg.com/html5-qrcode"></script>

   <!-- الأزرار السريعة -->
<div class="quick-actions" style="display: flex; justify-content: space-between; flex-wrap: nowrap; overflow-x: auto; gap: 6px; margin: 10px 0; padding: 0 5px;">
    <button class="action-btn" id="showAllBtn" style="background: linear-gradient(135deg, #2196F3, #21CBF3); color: white; border: none; border-radius: 18px; padding: 6px 12px; cursor: pointer; font-family: 'Cairo'; font-weight: bold; display: flex; align-items: center; gap: 4px; height: 36px; transition: all 0.3s; font-size: 0.85rem; min-width: 80px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 3px 8px rgba(33, 150, 243, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
        <i class="fas fa-th-large" style="font-size: 1rem;"></i>
        الكل
    </button>
    <button class="action-btn fav" id="showFavBtn" style="background: linear-gradient(135deg, #f44336, #e57373); color: white; border: none; border-radius: 18px; padding: 6px 12px; cursor: pointer; font-family: 'Cairo'; font-weight: bold; display: flex; align-items: center; gap: 4px; height: 36px; transition: all 0.3s; font-size: 0.85rem; min-width: 80px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 3px 8px rgba(244, 67, 54, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
        <i class="fas fa-heart" style="font-size: 1rem;"></i>
        مفضلة
    </button>
    <button class="action-btn" id="clearFavBtn" style="background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; border: none; border-radius: 18px; padding: 6px 12px; cursor: pointer; font-family: 'Cairo'; font-weight: bold; display: flex; align-items: center; gap: 4px; height: 36px; transition: all 0.3s; font-size: 0.85rem; min-width: 80px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 3px 8px rgba(255, 152, 0, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
        <i class="fas fa-trash-alt" style="font-size: 1rem;"></i>
        مسح
    </button>
    <button onclick="showStatsPage()" id="statsButton" style="background: linear-gradient(135deg, #4CAF50, #8BC34A); color: white; border: none; border-radius: 18px; padding: 6px 12px; cursor: pointer; font-family: 'Cairo'; font-weight: bold; display: flex; align-items: center; gap: 4px; height: 36px; transition: all 0.3s; font-size: 0.85rem; min-width: 80px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 3px 8px rgba(76, 175, 80, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
        <i class="fas fa-chart-bar" style="font-size: 1rem;"></i>
        احصائية
    </button>
</div>

    <!-- الفلاتر -->
   <div class="filters-container">
    <select id="brandDropdown" class="filter-dropdown" onchange="setBrand(this.value)">
        <!-- سيتم ملؤها جافاسكريبت -->
    </select>
</div>
<div class="filters-container">
    <select id="subDropdown" class="filter-dropdown" onchange="setSub(this.value)">
        <!-- سيتم ملؤها جافاسكريبت -->
    </select>
</div>
<!-- المنتجات -->
<div class="products-container">
    <div class="products-grid" id="productsGrid">
        <!-- سيتم ملؤها جافاسكريبت -->
    </div>
    <div class="empty-state" id="emptyState" style="display: none;">
        <div class="empty-state-icon">
            <i class="fas fa-search"></i>
        </div>
        <div class="empty-state-text">لا توجد منتجات مطابقة</div>
        <div class="empty-state-subtext">جرب تغيير البحث أو الفلاتر</div>
    </div>
</div>
<!-- القائمة السفلية -->
<nav class="bottom-nav">
    <a href="#" class="nav-item active" onclick="showAll()">
        <i class="fas fa-th-large"></i>
        <span>الرئيسية</span>
    </a>
    <a href="#" class="nav-item" onclick="showFavorites()">
        <i class="fas fa-heart"></i>
        <span>المفضلة</span>
    </a>
    <a href="#" class="nav-item" onclick="clearFavorites()">
        <i class="fas fa-trash-alt"></i>
        <span>مسح الكل</span>
    </a>
    <a href="#" class="nav-item" onclick="refreshPage()">
        <i class="fas fa-redo-alt"></i>
        <span>تحديث</span>
    </a>
</nav>

    <!-- السكريبتات -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.2.0/js/glightbox.min.js"></script>
    <script src="products-data.js"></script>
    <script src="app.js"></script>
</body>
</html>



